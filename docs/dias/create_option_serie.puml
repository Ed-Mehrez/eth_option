@startuml
actor "Option Line Creator" as creator
actor "Writer" as writer
actor "Auction Winner" as auction_winner
participant "Request Handler" as req_handler
participant "Escrow Owner" as created_owner
participant "ERC721" as erc721
participant "Auction Contract" as auction
participant "Option Serie Contract" as opt_serie

creator -> req_handler: create request
req_handler -> req_handler: verification of request
req_handler -> created_owner: create escrow owner
req_handler -> erc721: mint for escrow owner
req_handler -> auction: create auction
req_handler -> opt_serie: create option serie

writer -> opt_serie: write options
opt_serie -> created_owner: fee goes to token owner

auction -> auction: defines a winner
auction_winner -> erc721: take ownership of erc721 token
auction_winner -> created_owner: take 50% fees during auction collected fees


writer -> opt_serie: write options
opt_serie -> auction_winner: fee goes to token owner


@enduml
